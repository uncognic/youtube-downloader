<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YouTube Downloader</title>
    <!-- Favicon for the website -->
    <link rel="icon" href="/favicon32.png" type="image/png" />
    <link rel="shortcut icon" href="/favicon32.png" type="image/png" />
    <!-- Linking the stylesheet -->
    <link id="theme-style" rel="stylesheet" href="style.css" />
    <!-- FontAwesome for icons -->
    <script src="https://kit.fontawesome.com/5f0cb4421d.js" crossorigin="anonymous"></script>
    <!-- Preconnect to Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Google Fonts for custom font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
</head>
<body id="content">
    <!-- Warning message for users -->
    <div class="warning">
        <button class="warn-btn" onclick="closeWarning()">Ã—</button>
        <p>WARNING:<br> You (end user) are responsible for what you download, how you use and distribute that content. please be mindful when using content of others and always credit original creators. The projects used for this site were <a href="https://cobalt.tools/">Cobalt</a> and the YouTube API. 
        We do not save any files, this is just a link aggregator. If you have any other questions,<br> check our <a href="terms.html">Terms of Service</a>.</p>
    </div>
    
    <!-- Main title of the website -->
    <h1>YouTube Downloader Enhanced</h1>
    
    <!-- Combined search and URL input form -->
    <form id="searchForm" class="box" style="margin-bottom: 20px;">
        <input type="text" id="searchInput" placeholder="Search YouTube or enter URL..." />
        <a href="#" id="searchUrlButton" onclick="handleSearchOrUrlInput()">
            <i class="fas fa-search"></i>
        </a>
    </form>
    
    <!-- Container to display search results -->
    <div id="results" class="results"></div>
    
    <!-- Button to load more results -->
    <button id="loadMoreButton" class="load-more">Load More</button>
    <!-- Button to update the YouTube API key -->
    <button id="updateApiKeyButton" class="update-api-key-btn">Update YouTube API Key</button>
    
    <!-- Catalogue section for music -->
    <div class="catalogue">
        <button id="music" class="music-button">Music</button>
    </div>
    
    <!-- Player container for audio and video playback -->
    <div id="player-container">
        <div id="visualizer">
            <audio id="audio-player" controls></audio>
            <div id="canvisualizer" width="1214" height="951"></div>
            <p>Click on the screen to start the music, and click again to pause</p>
        </div>
        <video id="video-player" controls></video>
    </div>
    
    <!-- JavaScript files for functionality and effects -->
    <script src="js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplex-noise/2.3.0/simplex-noise.min.js"></script>
    <script src="js/effects.js"></script>

    <script>
        // Function to handle search or URL input
        function handleSearchOrUrlInput() {
            const input = document.getElementById("searchInput").value.trim();
            if (input.includes("youtube.com")) {
                showVideoOverlay(extractVideoIdFromUrl(input));
            } else {
                performSearch();
            }
        }

        // Function to extract video ID from YouTube URL
        function extractVideoIdFromUrl(url) {
            const match = url.match(/[?&]v=([^&]+)/);
            return match ? match[1] : null;
        }

        // Function to show video overlay
        function showVideoOverlay(videoId) {
            // Implement your video overlay logic here
            alert("Video overlay logic here for video ID: " + videoId);
        }

        // Function to perform search
        function performSearch() {
            // Implement your search logic here
            alert("Performing search");
        }
    </script>
</body>
</html>
